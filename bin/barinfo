#!/usr/bin/sh

# ^c$var^ = fg color
# ^b$var^ = bg color

#!/usr/bin/bash
black=#0f0f0f
green=#9bcba8
white=#dfdde0
grey=#1a1a1d
blue=#80a0c0
red=#d08689
darkblue=#7894b0
interval=0


battery() {
  BAT_ICON=$(~/.local/bin/battery --icon)
  get_capacity="$(cat /sys/class/power_supply/BAT0/capacity)%"
  echo "^c$green^ $BAT_ICON $get_capacity "
}

volume() {
  VOL_ICON="$(~/.local/bin/volume)"
  VOLUME=$(pamixer --get-volume)
  echo "^c$blue^ $VOL_ICON $VOLUME% "
}

wlan() {
  SSID=$(iwgetid -r)
	case "$(cat /sys/class/net/wl*/operstate 2>/dev/null)" in
	up) printf "^c$black^ ^b$blue^   ^d^%s" " ^c$blue^$SSID" ;;
	down) printf "^c$black^ ^b$blue^   ^d^%s" " ^c$blue^Disconnected" ;;
	esac
}

clock() {
	printf "^c$black^ ^b$darkblue^   "
  printf "^c$black^^b$blue^ $(date '+%H:%M')"
}

while true; do

  interval=$((interval + 1))

  sleep 1 && xsetroot -name "$(volume) $(battery) $(wlan) $(clock) "
done

if [[ $1 == "--bat" ]]; then
    battery
elif [[ $1 == "--wlan" ]]; then
    wlan
elif [[ $1 == "--volume" ]]; then
    volume
elif [[ $1 == "--clock" ]]; then
    clock
fi
